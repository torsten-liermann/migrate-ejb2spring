== Lifecycle
EJB defines a precise lifecycle with container-driven callbacks, especially for stateful beans. In addition to `@PostConstruct` and `@PreDestroy`, there are `@PrePassivate` and `@PostActivate`, which accompany the transition from active to passivated states. Spring also offers lifecycle hooks, but without passivation-related phases. Migrations must therefore explicitly check whether passivation logic can be omitted without replacement or must be implemented differently.
=== EJB lifecycle callbacks
EJB allows lifecycle methods on beans and entities. Additional transitions apply to stateful beans, which become relevant in memory shortages or load scenarios. The specification guarantees that `@PrePassivate` is called before passivation and `@PostActivate` is executed after reactivation. These callbacks are often used to unbind or rebind non-serializable resources.
The specification calls `@PrePassivate` and `@PostActivate` exclusively for stateful session beans. Passivation is a container decision; The code must therefore be designed so that resources can be released before passivation and re-binded after activation.
.Example: BEFORE (EJB)
[source, java]----
import javax.annotation.PostConstruct;
import javax.annotation.PreDestroy;
import javax.ejb.PostActivate;
import javax.ejb.PrePassivate;
import javax.ejb.Stateful;

@Stateful
public class QuoteDraftService {

    @PostConstruct
    public void initialize() {
        prepareDraft();
    }

    @PrePassivate
    public void beforePassivation() {
        releaseTempResources();
    }

    @PostActivate
    public void afterActivation() {
        reacquireResources();
    }

    @PreDestroy
    public void cleanup() {
        closeDraft();
    }
}
----

=== Spring Lifecycle
Spring supports `@PostConstruct` and `@PreDestroy` as well as optional interfaces (`InitializingBean`, `DisposableBean`). Passivation phases do not exist. Stateful models are mapped in Spring either through explicit scopes, through session or request data, or through technical persistence. If the EJB implementation uses `@PrePassivate` or `@PostActivate`, alternative resource control must be introduced, for example through clear ownership rules, explicit closure of resources or by handing over to an infrastructure component.
.Example: AFTER (Spring Boot)
[source, java]----
import jakarta.annotation.PostConstruct;
import jakarta.annotation.PreDestroy;
import org.springframework.stereotype.Service;

@Service
public class QuoteDraftService {

    @PostConstruct
    public void initialize() {
        prepareDraft();
    }

    @PreDestroy
    public void cleanup() {
        closeDraft();
    }
}
----

Lifecycle callbacks should not be used in Spring to trigger transactional business logic. Initialization belongs in the constructor or in an explicit start phase that is triggered by an event like `ApplicationReadyEvent`.