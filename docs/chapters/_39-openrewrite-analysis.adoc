== OpenRewrite inventory and migration gaps
This chapter documents the analysis of the existing recipes in the context of the Cargo Tracker reference application on Jakarta EE 10. The tests were carried out with a custom `rewrite.yml` that takes Jakarta namespace changes into account. The results serve as a basis for prioritization and gap assessment.
=== Summary of the migration (as of January 2026, M7 completed)
The migration in the worktree creates 91 changed files and a patch of around 4,100 lines. The source code can be compiled. Review marks are collected for each module in `MIGRATION-REVIEW.md`, currently 23 items (7 configuration, 16 review categories).
=== Captured transformations
Recipes cover core EJB and CDI patterns, including @Stateless to @Service, CDI injections, JAX-RS resources, and transaction and event mappings. The amounts vary depending on the module, but are represented several times in Cargo Tracker (e.g. 8 @Stateless services, 96 injections and 5 JAX-RS paths).
=== Review marks
The following areas are recognized by recipes and marked with `@NeedsReview`:
* JSF UI logic
* Jakarta batch jobs
* WebSocket endpoints
* JNDI lookups for resources and configuration
These markings are brought together in the report and serve as a structured checklist.
=== Example: successful migration of a REST resource
.Example: BEFORE (EJB)
[source, java]
----
@Stateless
@Path("/graph-traversal")
public class GraphTraversalService {
    @Inject private GraphDao dao;

    @GET
    @Path("/shortest-path")
    public List<TransitPath> findShortestPath(
            @QueryParam("origin") String origin,
@QueryParam("destination") String dest) { ... }
}
----

.Example: AFTER (Spring Boot)
[source, java]
----
@Service
@RequestMapping("/graph-traversal")
public class GraphTraversalService {
    @Autowired
    private GraphDao dao;

    @GetMapping
    @RequestMapping("/shortest-path")
    public List<TransitPath> findShortestPath(
            @RequestParam("origin") String origin,
            @RequestParam("destination") String dest) { ... }
}
----
